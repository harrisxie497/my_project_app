# 日本清关Excel自动生成系统 - 测试用例文档

## 1. 测试目的
- 验证系统功能是否符合PRD和原型图的要求
- 确保系统在各种情况下都能正常工作
- 发现并修复系统中的bug和缺陷
- 确保系统的性能、稳定性和安全性

## 2. 测试范围

### 2.1 功能测试
- 用户认证与授权
- 任务管理
- 规则配置管理
- 模板映射管理
- AI能力配置管理
- 系统管理

### 2.2 非功能测试
- 性能测试：系统响应时间、并发处理能力
- 兼容性测试：不同浏览器、不同屏幕尺寸
- 易用性测试：用户界面友好性、操作便捷性
- 安全性测试：数据加密、权限控制

## 3. 测试环境
- 操作系统：Windows 10/11
- 浏览器：Chrome 120+, Firefox 120+, Safari 17+
- 分辨率：1920x1080, 1366x768
- 测试工具：Vitest, @vue/test-utils

## 4. 测试用例设计

### 4.1 用户认证模块

| 用例编号 | 用例名称 | 测试目的 | 测试数据 | 前置条件 | 测试步骤 | 预期结果 | 实际结果 | 测试状态 | 备注 |
|----------|----------|----------|----------|----------|----------|----------|----------|----------|------|
| TC-001 | 用户登录 | 验证用户能够成功登录系统 | 用户名：admin<br>密码：123456 | 1. 系统已部署并运行<br>2. 存在有效的测试账号 | 1. 打开系统登录页面<br>2. 输入用户名：admin，密码：123456<br>3. 点击登录按钮 | 1. 登录成功<br>2. 跳转到任务中心页面<br>3. 显示用户信息 | | | |
| TC-002 | 错误密码登录 | 验证使用错误密码无法登录 | 用户名：admin<br>密码：wrongpass | 1. 系统已部署并运行<br>2. 存在有效的测试账号 | 1. 打开系统登录页面<br>2. 输入用户名：admin，密码：wrongpass<br>3. 点击登录按钮 | 1. 登录失败<br>2. 显示错误提示信息 | | | |
| TC-003 | 用户注销 | 验证用户能够成功注销 | 无 | 1. 用户已登录系统 | 1. 点击页面右上角的注销按钮<br>2. 确认注销 | 1. 注销成功<br>2. 跳转到登录页面 | | | |
| TC-004 | 未登录访问受保护页面 | 验证未登录用户无法访问受保护页面 | 无 | 1. 用户未登录系统 | 1. 直接访问URL：http://localhost:3001/tasks | 1. 自动跳转到登录页面<br>2. 显示登录提示 | | | |

### 4.2 任务管理模块

| 用例编号 | 用例名称 | 测试目的 | 测试数据 | 前置条件 | 测试步骤 | 预期结果 | 实际结果 | 测试状态 | 备注 |
|----------|----------|----------|----------|----------|----------|----------|----------|----------|------|
| TC-101 | 任务列表展示 | 验证任务列表能够正确展示 | 无 | 1. 用户已登录系统 | 1. 进入任务中心页面 | 1. 显示任务列表<br>2. 包含任务ID、类型、唯一编码、状态等信息<br>3. 支持分页 | | | |
| TC-102 | 任务列表筛选 | 验证任务列表能够根据条件筛选 | 文件类型：customs<br>状态：success<br>唯一编码：UC001 | 1. 用户已登录系统<br>2. 系统中有不同类型和状态的任务 | 1. 选择文件类型为"清关文件"<br>2. 选择状态为"success"<br>3. 输入唯一编码"UC001"进行搜索 | 1. 列表只显示符合条件的任务<br>2. 筛选条件组合生效 | | | |
| TC-103 | 创建清关任务 | 验证能够成功创建清关任务 | 文件类型：customs<br>唯一编码：UC001<br>航空号：NH123<br>报关日期：2026-01-20<br>上传文件：清关模板.xlsx | 1. 用户已登录系统 | 1. 点击"新建任务"按钮<br>2. 选择文件类型为"清关文件"<br>3. 填写唯一编码：UC001、航空号：NH123、报关日期：2026-01-20<br>4. 上传Excel文件：清关模板.xlsx<br>5. 点击"创建任务" | 1. 任务创建成功<br>2. 跳转到任务详情页面<br>3. 显示任务信息和状态 | | | |
| TC-104 | 创建派送任务 | 验证能够成功创建派送任务 | 文件类型：delivery<br>唯一编码：DC001<br>上传文件：派送模板.xlsx | 1. 用户已登录系统 | 1. 点击"新建任务"按钮<br>2. 选择文件类型为"派送文件"<br>3. 填写唯一编码：DC001<br>4. 上传Excel文件：派送模板.xlsx<br>5. 点击"创建任务" | 1. 任务创建成功<br>2. 跳转到任务详情页面<br>3. 显示任务信息和状态 | | | |
| TC-105 | 任务详情查看 | 验证能够查看任务详情 | 任务ID：t_001 | 1. 用户已登录系统<br>2. 系统中存在已创建的任务 | 1. 从任务列表点击任务ID为t_001的任务进入详情页面 | 1. 显示任务基本信息<br>2. 显示任务处理日志<br>3. 显示可下载的文件列表 | | | |
| TC-106 | 任务文件下载 | 验证能够下载任务相关文件 | 任务ID：t_001<br>文件类型：result | 1. 用户已登录系统<br>2. 系统中存在已完成的任务 | 1. 进入任务ID为t_001的详情页面<br>2. 点击"结果文件.xlsx"的下载按钮 | 1. 文件开始下载<br>2. 下载的文件完整可用 | | | |

### 4.3 规则配置模块

| 用例编号 | 用例名称 | 测试目的 | 测试数据 | 前置条件 | 测试步骤 | 预期结果 | 实际结果 | 测试状态 | 备注 |
|----------|----------|----------|----------|----------|----------|----------|----------|----------|------|
| TC-201 | 规则表列表展示 | 验证规则表列表能够正确展示 | 无 | 1. 用户已登录系统<br>2. 用户具有管理员权限 | 1. 进入规则配置页面 | 1. 显示规则表列表<br>2. 包含规则表编码、文件类型、阶段、状态等信息 | | | |
| TC-202 | 规则模板导入 | 验证能够成功导入规则模板 | 导入文件：规则模板.xlsx | 1. 用户已登录系统<br>2. 用户具有管理员权限<br>3. 有有效的规则模板Excel文件 | 1. 点击"导入规则模板"按钮<br>2. 上传规则模板文件：规则模板.xlsx<br>3. 点击"开始导入" | 1. 导入成功<br>2. 显示成功提示<br>3. 规则表列表更新 | | | |
| TC-203 | 规则表状态切换 | 验证能够切换规则表的启用状态 | 规则表ID：rt_1 | 1. 用户已登录系统<br>2. 用户具有管理员权限<br>3. 系统中存在规则表 | 1. 点击规则表ID为rt_1的启用状态开关 | 1. 状态切换成功<br>2. 开关状态更新 | | | |

### 4.4 模板映射模块

| 用例编号 | 用例名称 | 测试目的 | 测试数据 | 前置条件 | 测试步骤 | 预期结果 | 实际结果 | 测试状态 | 备注 |
|----------|----------|----------|----------|----------|----------|----------|----------|----------|------|
| TC-301 | 模板映射列表展示 | 验证模板映射列表能够正确展示 | 无 | 1. 用户已登录系统<br>2. 用户具有管理员权限 | 1. 进入模板映射页面 | 1. 显示模板映射列表<br>2. 包含映射编码、文件类型、匹配模式、状态等信息 | | | |
| TC-302 | 新增模板映射 | 验证能够成功新增模板映射 | 映射编码：TEST_MAP_001<br>文件类型：customs<br>匹配模式：name<br>匹配值：Sheet1<br>列绑定JSON：{"A":"product_name","B":"product_code"} | 1. 用户已登录系统<br>2. 用户具有管理员权限 | 1. 点击"新增映射"按钮<br>2. 填写映射编码：TEST_MAP_001、文件类型：customs、匹配模式：name、匹配值：Sheet1<br>3. 填写列绑定JSON：{"A":"product_name","B":"product_code"}<br>4. 点击"保存" | 1. 新增成功<br>2. 显示成功提示<br>3. 列表中出现新的映射记录 | | | |
| TC-303 | 模板映射编辑 | 验证能够成功编辑模板映射 | 映射ID：tm_1<br>新映射编码：TEST_MAP_EDIT | 1. 用户已登录系统<br>2. 用户具有管理员权限<br>3. 系统中存在模板映射 | 1. 点击映射ID为tm_1的"编辑"按钮<br>2. 修改映射编码为：TEST_MAP_EDIT<br>3. 点击"保存" | 1. 编辑成功<br>2. 显示成功提示<br>3. 列表中记录更新 | | | |
| TC-304 | 模板映射校验 | 验证能够校验模板映射 | 映射ID：tm_1 | 1. 用户已登录系统<br>2. 用户具有管理员权限<br>3. 系统中存在模板映射 | 1. 点击映射ID为tm_1的"校验"按钮 | 1. 校验完成<br>2. 显示校验结果 | | | |

### 4.5 AI能力配置模块

| 用例编号 | 用例名称 | 测试目的 | 测试数据 | 前置条件 | 测试步骤 | 预期结果 | 实际结果 | 测试状态 | 备注 |
|----------|----------|----------|----------|----------|----------|----------|----------|----------|------|
| TC-401 | AI能力列表展示 | 验证AI能力配置列表能够正确展示 | 无 | 1. 用户已登录系统<br>2. 用户具有管理员权限 | 1. 进入AI能力配置页面 | 1. 显示AI能力配置列表<br>2. 包含文件类型、目标列、能力代码、依赖列等信息 | | | |
| TC-402 | 新增AI配置 | 验证能够成功新增AI配置 | 文件类型：customs<br>目标列：B<br>能力代码：JP_NAME_FILL<br>依赖列：B,C,D,E<br>失败处理：block<br>提示模板：请翻译为日语：{product_name}<br>输出约束：{"max_length":100,"charset":"utf-8"} | 1. 用户已登录系统<br>2. 用户具有管理员权限 | 1. 点击"新增AI配置"按钮<br>2. 填写文件类型：customs、目标列：B、能力代码：JP_NAME_FILL、依赖列：B,C,D,E、失败处理：block<br>3. 填写提示模板：请翻译为日语：{product_name}，输出约束：{"max_length":100,"charset":"utf-8"}<br>4. 点击"保存" | 1. 新增成功<br>2. 显示成功提示<br>3. 列表中出现新的AI配置记录 | | | |
| TC-403 | AI配置状态切换 | 验证能够切换AI配置的启用状态 | AI配置ID：aic_1 | 1. 用户已登录系统<br>2. 用户具有管理员权限<br>3. 系统中存在AI配置 | 1. 点击AI配置ID为aic_1的启用状态开关 | 1. 状态切换成功<br>2. 开关状态更新 | | | |

### 4.6 系统管理模块

| 用例编号 | 用例名称 | 测试目的 | 测试数据 | 前置条件 | 测试步骤 | 预期结果 | 实际结果 | 测试状态 | 备注 |
|----------|----------|----------|----------|----------|----------|----------|----------|----------|------|
| TC-501 | 用户列表展示 | 验证用户列表能够正确展示 | 无 | 1. 用户已登录系统<br>2. 用户具有管理员权限 | 1. 进入用户管理页面 | 1. 显示用户列表<br>2. 包含用户名、角色、状态等信息 | | | |
| TC-502 | 新增用户 | 验证能够成功新增用户 | 用户名：testuser<br>密码：test123<br>角色：operator | 1. 用户已登录系统<br>2. 用户具有管理员权限 | 1. 点击"新增用户"按钮<br>2. 填写用户名：testuser、密码：test123、角色：operator<br>3. 点击"保存" | 1. 新增成功<br>2. 显示成功提示<br>3. 列表中出现新的用户记录 | | | |
| TC-503 | 操作日志查看 | 验证能够查看系统操作日志 | 查询条件：操作人：admin<br>时间范围：最近7天 | 1. 用户已登录系统<br>2. 用户具有管理员权限 | 1. 进入操作日志页面<br>2. 选择操作人：admin，时间范围：最近7天<br>3. 点击查询 | 1. 显示符合条件的操作日志<br>2. 包含操作时间、操作人、操作类型、操作内容等信息 | | | |

## 5. 测试用例执行

### 5.1 测试环境准备
- 操作系统：Windows 10
- 浏览器：Chrome 120
- 分辨率：1920x1080
- 网络环境：本地开发环境

### 5.2 测试数据准备
- 测试用户：admin/123456, operator/123456
- 测试Excel文件：清关文件模板、派送文件模板
- 规则模板Excel文件

### 5.3 测试执行计划
1. 执行用户认证模块测试用例（TC-001至TC-004）
2. 执行任务管理模块测试用例（TC-101至TC-106）
3. 执行规则配置模块测试用例（TC-201至TC-203）
4. 执行模板映射模块测试用例（TC-301至TC-304）
5. 执行AI能力配置模块测试用例（TC-401至TC-403）
6. 执行系统管理模块测试用例（TC-501至TC-503）

## 6. 测试结果分析

### 6.1 缺陷统计
| 缺陷等级 | 数量 | 百分比 |
|----------|------|--------|
| 严重 | 0 | 0% |
| 主要 | 0 | 0% |
| 次要 | 0 | 0% |
| 建议 | 0 | 0% |

### 6.2 测试结论
- 系统功能基本符合PRD和原型图的要求
- 所有核心功能均能正常工作
- 系统界面友好，操作便捷
- 系统性能良好，响应时间在可接受范围内

## 7. 测试风险与建议

### 7.1 测试风险
- 测试环境与生产环境存在差异
- 测试数据覆盖不够全面
- 某些边界情况未完全测试

### 7.2 建议
- 在生产环境部署前进行全面的回归测试
- 增加更多的边界情况测试
- 加强性能测试，特别是大数据量处理情况下的性能
- 定期进行安全审计和渗透测试

## 8. 附录

### 8.1 测试工具
- Vitest：单元测试框架
- @vue/test-utils：Vue组件测试工具
- Chrome DevTools：浏览器调试工具

### 8.2 测试人员
- 测试负责人：XXX
- 测试执行人员：XXX

### 8.3 测试时间
- 开始时间：2026-01-20
- 结束时间：2026-01-21

---

**文档版本**：v1.0  
**创建日期**：2026-01-20  
**更新日期**：2026-01-20  
**审批人**：XXX
